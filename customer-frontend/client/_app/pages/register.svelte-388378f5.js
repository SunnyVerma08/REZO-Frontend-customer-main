import{S as Z,i as ee,s as te,k,e as f,w as se,W as ae,d as r,m as R,c as p,a as w,x as le,b as a,g as S,F as t,y as re,q as oe,o as ne,B as ie,v as ue,a1 as ce,t as N,h as P,J as U,K as de,ab as O,ac as fe,L as pe}from"../chunks/vendor-0a4ab0d8.js";import{n as J}from"../chunks/Toast.svelte_svelte_type_style_lang-63444e65.js";import{T as me}from"../chunks/Toast-c6ac66df.js";import{S as he,c as be}from"../chunks/checkAuth-9ce0648b.js";function _e(v){let l,u,c,s,b,m,y,T,d,n,e,o,x,D,g,V;return{c(){l=f("div"),u=f("br"),c=k(),s=f("p"),b=N("You are already authenticated and registered user!!"),m=k(),y=f("p"),T=N("Do you still want to create a new account?"),d=k(),n=f("br"),e=k(),o=f("div"),x=f("button"),D=N("Create New Account"),this.h()},l(i){l=p(i,"DIV",{class:!0});var h=w(l);u=p(h,"BR",{}),c=R(h),s=p(h,"P",{});var A=w(s);b=P(A,"You are already authenticated and registered user!!"),A.forEach(r),m=R(h),y=p(h,"P",{});var j=w(y);T=P(j,"Do you still want to create a new account?"),j.forEach(r),d=R(h),n=p(h,"BR",{}),h.forEach(r),e=R(i),o=p(i,"DIV",{class:!0});var E=w(o);x=p(E,"BUTTON",{class:!0});var C=w(x);D=P(C,"Create New Account"),C.forEach(r),E.forEach(r),this.h()},h(){a(l,"class","text-center text-xl"),a(x,"class","bg-yellow-500 hover:bg-yellow-200 hover:text-black text-white font-bold py-2 px-4 rounded transition-all items-center"),a(o,"class","flex justify-center ")},m(i,h){S(i,l,h),t(l,u),t(l,c),t(l,s),t(s,b),t(l,m),t(l,y),t(y,T),t(l,d),t(l,n),S(i,e,h),S(i,o,h),t(o,x),t(x,D),g||(V=U(x,"click",v[6]),g=!0)},p:de,d(i){i&&r(l),i&&r(e),i&&r(o),g=!1,V()}}}function ve(v){let l,u,c,s,b,m,y,T,d,n,e,o,x,D,g,V,i,h,A,j,E,C,M,Y,B,K,W,$;return{c(){l=f("h1"),u=N("Registration Form"),c=k(),s=f("form"),b=f("div"),m=f("label"),y=N("Name"),T=k(),d=f("input"),n=k(),e=f("div"),o=f("label"),x=N("Phone"),D=k(),g=f("input"),V=k(),i=f("div"),h=f("label"),A=N("Password"),j=k(),E=f("input"),C=k(),M=f("br"),Y=k(),B=f("button"),K=N("Submit"),this.h()},l(_){l=p(_,"H1",{class:!0});var I=w(l);u=P(I,"Registration Form"),I.forEach(r),c=R(_),s=p(_,"FORM",{});var F=w(s);b=p(F,"DIV",{class:!0});var q=w(b);m=p(q,"LABEL",{class:!0,for:!0});var z=w(m);y=P(z,"Name"),z.forEach(r),T=R(q),d=p(q,"INPUT",{class:!0,type:!0,name:!0,id:!0}),q.forEach(r),n=R(F),e=p(F,"DIV",{class:!0});var H=w(e);o=p(H,"LABEL",{class:!0,for:!0});var G=w(o);x=P(G,"Phone"),G.forEach(r),D=R(H),g=p(H,"INPUT",{class:!0,type:!0,name:!0,id:!0}),H.forEach(r),V=R(F),i=p(F,"DIV",{class:!0});var L=w(i);h=p(L,"LABEL",{class:!0,for:!0});var Q=w(h);A=P(Q,"Password"),Q.forEach(r),j=R(L),E=p(L,"INPUT",{class:!0,type:!0,name:!0,id:!0}),C=R(L),M=p(L,"BR",{}),Y=R(L),B=p(L,"BUTTON",{class:!0,type:!0});var X=w(B);K=P(X,"Submit"),X.forEach(r),L.forEach(r),F.forEach(r),this.h()},h(){a(l,"class","block w-full text-center text-gray-800 text-2xl font-bold mb-6"),a(m,"class","mb-2 font-bold text-lg text-gray-900"),a(m,"for","name"),a(d,"class","border py-2 px-3 text-grey-800"),a(d,"type","text"),a(d,"name","name"),a(d,"id","name"),a(b,"class","flex flex-col mb-4"),a(o,"class","mb-2 font-bold text-lg text-gray-900"),a(o,"for","phone"),a(g,"class","border py-2 px-3 text-grey-800"),a(g,"type","text"),a(g,"name","phone"),a(g,"id","phone"),a(e,"class","flex flex-col mb-4"),a(h,"class","mb-2 font-bold text-lg text-gray-900"),a(h,"for","password"),a(E,"class","border py-2 px-3 text-grey-800"),a(E,"type","password"),a(E,"name","password"),a(E,"id","password"),a(B,"class","bg-yellow-500 hover:bg-yellow-200 hover:text-black text-white font-bold py-2 px-4 rounded transition-all items-center"),a(B,"type","submit"),a(i,"class","flex flex-col mb-4 content-between")},m(_,I){S(_,l,I),t(l,u),S(_,c,I),S(_,s,I),t(s,b),t(b,m),t(m,y),t(b,T),t(b,d),O(d,v[0].name),t(s,n),t(s,e),t(e,o),t(o,x),t(e,D),t(e,g),O(g,v[0].phone),t(s,V),t(s,i),t(i,h),t(h,A),t(i,j),t(i,E),O(E,v[0].password),t(i,C),t(i,M),t(i,Y),t(i,B),t(B,K),W||($=[U(d,"input",v[3]),U(g,"input",v[4]),U(E,"input",v[5]),U(s,"submit",fe(v[2]))],W=!0)},p(_,I){I&1&&d.value!==_[0].name&&O(d,_[0].name),I&1&&g.value!==_[0].phone&&O(g,_[0].phone),I&1&&E.value!==_[0].password&&O(E,_[0].password)},d(_){_&&r(l),_&&r(c),_&&r(s),W=!1,pe($)}}}function ye(v){let l,u,c,s,b,m,y;function T(e,o){return e[1]?_e:ve}let d=T(v),n=d(v);return m=new me({}),{c(){l=k(),u=f("div"),c=f("div"),n.c(),b=k(),se(m.$$.fragment),this.h()},l(e){ae('[data-svelte="svelte-f1nrop"]',document.head).forEach(r),l=R(e),u=p(e,"DIV",{class:!0});var x=w(u);c=p(x,"DIV",{class:!0});var D=w(c);n.l(D),D.forEach(r),x.forEach(r),b=R(e),le(m.$$.fragment,e),this.h()},h(){document.title="Register",a(c,"class",s=""+((v[1]?"w-full":"w-1/2")+" bg-white rounded shadow-2xl p-8 m-4")),a(u,"class","flex justify-center items-center w-full p-20 ")},m(e,o){S(e,l,o),S(e,u,o),t(u,c),n.m(c,null),S(e,b,o),re(m,e,o),y=!0},p(e,[o]){d===(d=T(e))&&n?n.p(e,o):(n.d(1),n=d(e),n&&(n.c(),n.m(c,null))),(!y||o&2&&s!==(s=""+((e[1]?"w-full":"w-1/2")+" bg-white rounded shadow-2xl p-8 m-4")))&&a(c,"class",s)},i(e){y||(oe(m.$$.fragment,e),y=!0)},o(e){ne(m.$$.fragment,e),y=!1},d(e){e&&r(l),e&&r(u),n.d(),e&&r(b),ie(m,e)}}}function we(v,l,u){let c=!1,s={name:"",phone:"",email:"",password:"",passwordConfirm:""};const b=async()=>{try{const n=s,e=await ce({method:"POST",url:`${he}/api/v1/users/auth/signup`,data:n});e.data.status==="success"&&(J.success("Successfully Registered",1e3),localStorage.setItem("userLoginData",JSON.stringify(e.data)),setTimeout(()=>{J.success("Redirecting... (right now where to redirect, please use mouse to move)",5e3),setTimeout(()=>{u(1,c=!0)},2e3)},1e3)),console.log(e)}catch(n){console.log("error",n.response.data.message),J.danger(n.response.data.message,1500)}};ue(async()=>{await be()&&u(1,c=!0)});function m(){s.name=this.value,u(0,s)}function y(){s.phone=this.value,u(0,s)}function T(){s.password=this.value,u(0,s)}const d=()=>{u(1,c=!c),J.info("Loading...",1e3)};return v.$$.update=()=>{v.$$.dirty&1&&u(0,s.passwordConfirm=s.password,s)},[s,c,b,m,y,T,d]}class Re extends Z{constructor(l){super();ee(this,l,we,ye,te,{})}}export{Re as default};
