import{S as K,i as W,s as Z,k as E,e as p,w as z,W as G,d as n,m as L,c as h,a as x,x as Q,b as i,g as D,F as s,y as X,q as ee,o as te,B as se,M as ae,v as le,a1 as oe,R as re,t as R,h as j,J as q,K as ne,ab as C,ac as ie,L as ue}from"../chunks/vendor-0a4ab0d8.js";import{n as F}from"../chunks/Toast.svelte_svelte_type_style_lang-63444e65.js";import{T as ce}from"../chunks/Toast-c6ac66df.js";import{S as de,i as Y,c as fe}from"../chunks/checkAuth-9ce0648b.js";import{g as $}from"../chunks/navigation-b10cf5bf.js";import"../chunks/singletons-4a680913.js";function pe(g){let t,u,c,a,r,d,m,k,f,l,e,o,w,I,v,B;return{c(){t=p("div"),u=p("br"),c=E(),a=p("p"),r=R("You are already authenticated and registered user!!"),d=E(),m=p("p"),k=R(`Ehhh if you are here, you must be playing with urls or its my mistake (developer's) wana
					login again??`),f=E(),l=p("br"),e=E(),o=p("div"),w=p("button"),I=R("Create New Account"),this.h()},l(y){t=h(y,"DIV",{class:!0});var _=x(t);u=h(_,"BR",{}),c=L(_),a=h(_,"P",{});var S=x(a);r=j(S,"You are already authenticated and registered user!!"),S.forEach(n),d=L(_),m=h(_,"P",{});var N=x(m);k=j(N,`Ehhh if you are here, you must be playing with urls or its my mistake (developer's) wana
					login again??`),N.forEach(n),f=L(_),l=h(_,"BR",{}),_.forEach(n),e=L(y),o=h(y,"DIV",{class:!0});var V=x(o);w=h(V,"BUTTON",{class:!0});var A=x(w);I=j(A,"Create New Account"),A.forEach(n),V.forEach(n),this.h()},h(){i(t,"class","text-center text-xl"),i(w,"class","bg-yellow-500 hover:bg-yellow-200 hover:text-black text-white font-bold py-2 px-4 rounded transition-all items-center"),i(o,"class","flex justify-center ")},m(y,_){D(y,t,_),s(t,u),s(t,c),s(t,a),s(a,r),s(t,d),s(t,m),s(m,k),s(t,f),s(t,l),D(y,e,_),D(y,o,_),s(o,w),s(w,I),v||(B=q(w,"click",g[5]),v=!0)},p:ne,d(y){y&&n(t),y&&n(e),y&&n(o),v=!1,B()}}}function he(g){let t,u,c,a,r,d,m,k,f,l,e,o,w,I,v,B,y,_,S,N,V,A;return{c(){t=p("h1"),u=R("Login"),c=E(),a=p("form"),r=p("div"),d=p("label"),m=R("Phone"),k=E(),f=p("input"),l=E(),e=p("div"),o=p("label"),w=R("Password"),I=E(),v=p("input"),B=E(),y=p("br"),_=E(),S=p("button"),N=R("Submit"),this.h()},l(b){t=h(b,"H1",{class:!0});var T=x(t);u=j(T,"Login"),T.forEach(n),c=L(b),a=h(b,"FORM",{});var O=x(a);r=h(O,"DIV",{class:!0});var U=x(r);d=h(U,"LABEL",{class:!0,for:!0});var M=x(d);m=j(M,"Phone"),M.forEach(n),k=L(U),f=h(U,"INPUT",{class:!0,type:!0,name:!0,id:!0}),U.forEach(n),l=L(O),e=h(O,"DIV",{class:!0});var P=x(e);o=h(P,"LABEL",{class:!0,for:!0});var H=x(o);w=j(H,"Password"),H.forEach(n),I=L(P),v=h(P,"INPUT",{class:!0,type:!0,name:!0,id:!0}),B=L(P),y=h(P,"BR",{}),_=L(P),S=h(P,"BUTTON",{class:!0,type:!0});var J=x(S);N=j(J,"Submit"),J.forEach(n),P.forEach(n),O.forEach(n),this.h()},h(){i(t,"class","block w-full text-center text-gray-800 text-2xl font-bold mb-6"),i(d,"class","mb-2 font-bold text-lg text-gray-900"),i(d,"for","phone"),i(f,"class","border py-2 px-3 text-grey-800"),i(f,"type","text"),i(f,"name","phone"),i(f,"id","phone"),i(r,"class","flex flex-col mb-4"),i(o,"class","mb-2 font-bold text-lg text-gray-900"),i(o,"for","password"),i(v,"class","border py-2 px-3 text-grey-800"),i(v,"type","password"),i(v,"name","password"),i(v,"id","password"),i(S,"class","bg-yellow-500 hover:bg-yellow-200 hover:text-black text-white font-bold py-2 px-4 rounded transition-all items-center"),i(S,"type","submit"),i(e,"class","flex flex-col mb-4 content-between")},m(b,T){D(b,t,T),s(t,u),D(b,c,T),D(b,a,T),s(a,r),s(r,d),s(d,m),s(r,k),s(r,f),C(f,g[1].phone),s(a,l),s(a,e),s(e,o),s(o,w),s(e,I),s(e,v),C(v,g[1].password),s(e,B),s(e,y),s(e,_),s(e,S),s(S,N),V||(A=[q(f,"input",g[3]),q(v,"input",g[4]),q(a,"submit",ie(g[2]))],V=!0)},p(b,T){T&2&&f.value!==b[1].phone&&C(f,b[1].phone),T&2&&v.value!==b[1].password&&C(v,b[1].password)},d(b){b&&n(t),b&&n(c),b&&n(a),V=!1,ue(A)}}}function me(g){let t,u,c,a,r,d,m;function k(e,o){return e[0]?pe:he}let f=k(g),l=f(g);return d=new ce({}),{c(){t=E(),u=p("div"),c=p("div"),l.c(),r=E(),z(d.$$.fragment),this.h()},l(e){G('[data-svelte="svelte-n9sku1"]',document.head).forEach(n),t=L(e),u=h(e,"DIV",{class:!0});var w=x(u);c=h(w,"DIV",{class:!0});var I=x(c);l.l(I),I.forEach(n),w.forEach(n),r=L(e),Q(d.$$.fragment,e),this.h()},h(){document.title="Login | REZO",i(c,"class",a=""+((g[0]?"w-full":"w-1/2")+" bg-white rounded shadow-2xl p-8 m-4")),i(u,"class","flex justify-center items-center w-full p-20 ")},m(e,o){D(e,t,o),D(e,u,o),s(u,c),l.m(c,null),D(e,r,o),X(d,e,o),m=!0},p(e,[o]){f===(f=k(e))&&l?l.p(e,o):(l.d(1),l=f(e),l&&(l.c(),l.m(c,null))),(!m||o&1&&a!==(a=""+((e[0]?"w-full":"w-1/2")+" bg-white rounded shadow-2xl p-8 m-4")))&&i(c,"class",a)},i(e){m||(ee(d.$$.fragment,e),m=!0)},o(e){te(d.$$.fragment,e),m=!1},d(e){e&&n(t),e&&n(u),l.d(),e&&n(r),se(d,e)}}}function _e(g,t,u){let c;ae(g,Y,l=>u(6,c=l));let a=!1,r={phone:"",password:""};const d=async()=>{try{const l=r,e=await oe({method:"POST",url:`${de}/api/v1/users/auth/login`,data:l});e.data.status==="success"&&(F.success("Successfully Logged In",1e3),re(Y,c=!0,c),localStorage.setItem("userLoginData",JSON.stringify(e.data)),setTimeout(()=>{u(0,a=!0),$("/profile")},1e3))}catch(l){console.log("error",l.response.data.message),F.danger(l.response.data.message,1500)}};le(async()=>{await fe()&&(u(0,a=!0),$("/profile"))});function m(){r.phone=this.value,u(1,r)}function k(){r.password=this.value,u(1,r)}return[a,r,d,m,k,()=>{u(0,a=!a),F.info("Loading...",1e3)}]}class ke extends K{constructor(t){super();W(this,t,_e,me,Z,{})}}export{ke as default};
